const ALPHABET="13456789abcdefghijkmnopqrstuwxyz",monKeyImageEndpoint="https://monkey.banano.cc/api/v1/monkey/",creeperLink="https://creeper.banano.cc/explorer/account/";function AsynchronouslyDownloadAMonkeyImage(address,img){img.src="assets/loading.gif";let downloadingImage=new Image;downloadingImage.onload=function(){img.style.background="transparent",img.src=this.src},downloadingImage.src=monKeyImageEndpoint+address+"?svc=yellowpaper&background=true"}function generateMonKey(bananoAddress){if(validateAddress(bananoAddress)){let img;AsynchronouslyDownloadAMonkeyImage(bananoAddress,document.getElementById("generated-monKey"))}}function randomizeMonKey(){let bananoAddress;generateMonKey(genRanAddress())}document.getElementById("monkeyGenerateForm").addEventListener("submit",(function(e){return generateMonKey(),e.preventDefault(),!1}));var isInViewport=function(elem){var bounding=elem.getBoundingClientRect();return bounding.top>=0&&bounding.left>=0&&bounding.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&bounding.right<=(window.innerWidth||document.documentElement.clientWidth)},rocketTrigger=document.getElementById("rocketTrigger"),rickcartTrigger=document.getElementById("rickcartTrigger"),rickcartTriggerFirst=document.getElementById("rickcartTriggerFirst");window.addEventListener("scroll",(function(event){setTimeout((function(){var d,a;isInViewport(rocketTrigger)&&(document.getElementById("rocket-gif").className+=" rocket-animation");if(isInViewport(rickcartTriggerFirst)){var b=document.getElementById("rickcart-gif");b.setAttribute("data-expand","2000"),b.setAttribute("data-src","assets/rickcart.gif"),b.className+=" lazyload"}isInViewport(rickcartTrigger)&&(document.getElementById("rickcart-gif").className+=" rickcart-animation")}),200)}),!1);var ERROR_MSG_INPUT="Input must be an string, Buffer or Uint8Array";function normalizeInput(n){var t;if(n instanceof Uint8Array)t=n;else if(n instanceof Buffer)t=new Uint8Array(n);else{if("string"!=typeof n)throw new Error(ERROR_MSG_INPUT);t=new Uint8Array(Buffer.from(n,"utf8"))}return t}function toHex(n){return Array.prototype.map.call(n,(function(n){return(n<16?"0":"")+n.toString(16)})).join("")}function uint32ToHex(n){return(4294967296+n).toString(16).substring(1)}function debugPrint(n,t,e){for(var r="\n"+n+" = ",o=0;o<t.length;o+=2){if(32===e)r+=uint32ToHex(t[o]).toUpperCase(),r+=" ",r+=uint32ToHex(t[o+1]).toUpperCase();else{if(64!==e)throw new Error("Invalid size "+e);r+=uint32ToHex(t[o+1]).toUpperCase(),r+=uint32ToHex(t[o]).toUpperCase()}o%6==4?r+="\n"+new Array(n.length+4).join(" "):o<t.length-2&&(r+=" ")}console.log(r)}function testSpeed(n,t,e){for(var r=(new Date).getTime(),o=new Uint8Array(t),i=0;i<t;i++)o[i]=i%256;var a=(new Date).getTime();for(console.log("Generated random input in "+(a-r)+"ms"),r=a,i=0;i<e;i++){var u=n(o),l=(new Date).getTime(),v=l-r;r=l,console.log("Hashed in "+v+"ms: "+u.substring(0,20)+"..."),console.log(Math.round(t/(1<<20)/(v/1e3)*100)/100+" MB PER SECOND")}}function ADD64AA(n,t,e){var r=n[t]+n[e],o=n[t+1]+n[e+1];r>=4294967296&&o++,n[t]=r,n[t+1]=o}function ADD64AC(n,t,e,r){var o=n[t]+e;e<0&&(o+=4294967296);var i=n[t+1]+r;o>=4294967296&&i++,n[t]=o,n[t+1]=i}function B2B_GET32(n,t){return n[t]^n[t+1]<<8^n[t+2]<<16^n[t+3]<<24}function B2B_G(n,t,e,r,o,i){var a=m[o],u=m[o+1],l=m[i],A=m[i+1];ADD64AA(v,n,t),ADD64AC(v,n,a,u);var f=v[r]^v[n],c=v[r+1]^v[n+1];v[r]=c,v[r+1]=f,ADD64AA(v,e,r),f=v[t]^v[e],c=v[t+1]^v[e+1],v[t]=f>>>24^c<<8,v[t+1]=c>>>24^f<<8,ADD64AA(v,n,t),ADD64AC(v,n,l,A),f=v[r]^v[n],c=v[r+1]^v[n+1],v[r]=f>>>16^c<<16,v[r+1]=c>>>16^f<<16,ADD64AA(v,e,r),f=v[t]^v[e],c=v[t+1]^v[e+1],v[t]=c>>>31^f<<1,v[t+1]=f>>>31^c<<1}var BLAKE2B_IV32=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),SIGMA8=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],SIGMA82=new Uint8Array(SIGMA8.map((function(n){return 2*n}))),v=new Uint32Array(32),m=new Uint32Array(32);function blake2bCompress(n,t){var e=0;for(e=0;e<16;e++)v[e]=n.h[e],v[e+16]=BLAKE2B_IV32[e];for(v[24]=v[24]^n.t,v[25]=v[25]^n.t/4294967296,t&&(v[28]=~v[28],v[29]=~v[29]),e=0;e<32;e++)m[e]=B2B_GET32(n.b,4*e);for(e=0;e<12;e++)B2B_G(0,8,16,24,SIGMA82[16*e+0],SIGMA82[16*e+1]),B2B_G(2,10,18,26,SIGMA82[16*e+2],SIGMA82[16*e+3]),B2B_G(4,12,20,28,SIGMA82[16*e+4],SIGMA82[16*e+5]),B2B_G(6,14,22,30,SIGMA82[16*e+6],SIGMA82[16*e+7]),B2B_G(0,10,20,30,SIGMA82[16*e+8],SIGMA82[16*e+9]),B2B_G(2,12,22,24,SIGMA82[16*e+10],SIGMA82[16*e+11]),B2B_G(4,14,16,26,SIGMA82[16*e+12],SIGMA82[16*e+13]),B2B_G(6,8,18,28,SIGMA82[16*e+14],SIGMA82[16*e+15]);for(e=0;e<16;e++)n.h[e]=n.h[e]^v[e]^v[e+16]}function blake2bInit(n,t){if(0===n||n>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(t&&t.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");for(var e={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:n},r=0;r<16;r++)e.h[r]=BLAKE2B_IV32[r];var o=t?t.length:0;return e.h[0]^=16842752^o<<8^n,t&&(blake2bUpdate(e,t),e.c=128),e}function blake2bUpdate(n,t){for(var e=0;e<t.length;e++)128===n.c&&(n.t+=n.c,blake2bCompress(n,!1),n.c=0),n.b[n.c++]=t[e]}function blake2bFinal(n){for(n.t+=n.c;n.c<128;)n.b[n.c++]=0;blake2bCompress(n,!0);for(var t=new Uint8Array(n.outlen),e=0;e<n.outlen;e++)t[e]=n.h[e>>2]>>8*(3&e);return t}function blake2b(n,t,e){e=e||64,n=normalizeInput(n);var r=blake2bInit(e,t);return blake2bUpdate(r,n),blake2bFinal(r)}function blake2bHex(n,t,e){return toHex(blake2b(n,t,e))}const genRanHex=n=>[...Array(n)].map(()=>Math.floor(16*Math.random()).toString(16)).join("");function uint4ToUint8(n){const t=n.length/2,e=new Uint8Array(t);for(let r=0;r<t;r++)e[r]=16*n[2*r]+n[2*r+1];return e}function hexToUint4(n){const t=new Uint8Array(n.length);for(let e=0;e<n.length;e++)t[e]=parseInt(n.substr(e,1),16);return t}function uint5ToString(n){const t="13456789abcdefghijkmnopqrstuwxyz".split("");let e="";for(let r=0;r<n.length;r++)e+=t[n[r]];return e}function uint4ToUint5(n){var t=n.length/5*4,e=new Uint8Array(t);for(let r=1;r<=t;r++){let o,i=r-1,a=r%4,u=i+(r-a)/4,l=n[u]<<a;o=(t-r)%4==0?n[u-1]<<4:n[u+1]>>4-a,e[i]=(o+l)%32}return e}function uint8ToUint4(n){const t=new Uint8Array(2*n.length);for(let e=0;e<n.length;e++)t[2*e]=n[e]/16|0,t[2*e+1]=n[e]%16;return t}function genRanAddress(n="ban"){let t=genRanHex(64);const e=uint5ToString(uint4ToUint5(uint8ToUint4(blake2b(uint4ToUint8(hexToUint4(t)),null,5).reverse())));return`${n}_${uint5ToString(uint4ToUint5(hexToUint4(`0${t}`)))}${e}`}function validateAddress(address){if("string"!=typeof address)return!1;if(64!=address.length&&65!=address.length)return!1;if(!address.startsWith("ban_"))return!1;const publicKeyBytes=decodeNanoBase32(address.substr(4,52)),checksumBytes=decodeNanoBase32(address.substr(56)),context=blake2bInit(5);blake2bUpdate(context,publicKeyBytes);const computedChecksumBytes=blake2bFinal(context).reverse();let valid=!0;for(let i=0;i<checksumBytes.length;i++)checksumBytes[i]!==computedChecksumBytes[i]&&(valid=!1);return valid}function decodeNanoBase32(input){const length=input.length,leftover=5*length%8,offset=0===leftover?0:8-leftover;let bits=0,value=0,index=0,output=new Uint8Array(Math.ceil(5*length/8));for(let i=0;i<length;i++)value=value<<5|readChar(input[i]),bits+=5,bits>=8&&(output[index++]=value>>>bits+offset-8&255,bits-=8);return bits>0&&(output[index++]=value<<bits+offset-8&255),0!==leftover&&(output=output.slice(1)),output}function readChar(char){const idx=ALPHABET.indexOf(char);if(-1===idx)throw new Error(`Invalid character found: ${char}`);return idx}